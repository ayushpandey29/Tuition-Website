{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button}from'./Button';import'../css/Login.css';// import  { Redirect } from 'react-router-dom'\n// import { Link } from 'react-router-dom'\nimport{useHistory}from\"react-router-dom\";import{Fragment as _Fragment,jsx as _jsx}from\"react/jsx-runtime\";const Logout=()=>{useEffect(()=>{validateToken();},[]);async function validateToken(){var user=JSON.parse(localStorage.getItem('user-info'));if(user!=null){var current=Math.round(Date.now()/1000);if(user.token.exp<current){localStorage.removeItem('user-info');window.location.replace(\"/\");}else{localStorage.removeItem('user-info');window.location.replace(\"/\");}}else{window.location.replace(\"/\");}}return/*#__PURE__*/_jsx(_Fragment,{});};export default Logout;","map":{"version":3,"names":["React","useEffect","useState","Button","useHistory","Fragment","_Fragment","jsx","_jsx","Logout","validateToken","user","JSON","parse","localStorage","getItem","current","Math","round","Date","now","token","exp","removeItem","window","location","replace"],"sources":["C:/Users/nitya/OneDrive/Desktop/Project/Tuition-Website/src/components/Logout.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Button } from './Button';\r\nimport '../css/Login.css'\r\n// import  { Redirect } from 'react-router-dom'\r\n// import { Link } from 'react-router-dom'\r\nimport { useHistory } from \"react-router-dom\"\r\nconst Logout = () => {\r\n\r\n    useEffect(() => {\r\n        validateToken()\r\n    }, []);\r\n    async function validateToken() {\r\n        var user = JSON.parse(localStorage.getItem('user-info'));\r\n        if (user != null) {\r\n            var current = Math.round(Date.now() / 1000);\r\n            if (user.token.exp < current) {\r\n                localStorage.removeItem('user-info');\r\n                window.location.replace(\"/\");\r\n            }\r\n            else{\r\n                localStorage.removeItem('user-info');\r\n                window.location.replace(\"/\");\r\n            }\r\n        }\r\n        else{\r\n            window.location.replace(\"/\");\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,UAAU,CACjC,MAAO,kBAAkB,CACzB;AACA;AACA,OAASC,UAAU,KAAQ,kBAAkB,QAAAC,QAAA,IAAAC,SAAA,CAAAC,GAAA,IAAAC,IAAA,yBAC7C,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAEjBR,SAAS,CAAC,IAAM,CACZS,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CACN,cAAe,CAAAA,aAAaA,CAAA,CAAG,CAC3B,GAAI,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CACxD,GAAIJ,IAAI,EAAI,IAAI,CAAE,CACd,GAAI,CAAAK,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAG,IAAI,CAAC,CAC3C,GAAIT,IAAI,CAACU,KAAK,CAACC,GAAG,CAAGN,OAAO,CAAE,CAC1BF,YAAY,CAACS,UAAU,CAAC,WAAW,CAAC,CACpCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC,CAChC,CAAC,IACG,CACAZ,YAAY,CAACS,UAAU,CAAC,WAAW,CAAC,CACpCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC,CAChC,CACJ,CAAC,IACG,CACAF,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC,CAChC,CACJ,CAGA,mBACIlB,IAAA,CAAAF,SAAA,GAEE,CAAC,CAEX,CAAC,CAED,cAAe,CAAAG,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}